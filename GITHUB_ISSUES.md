# GitHub Issues List (Updated)

아래 내용은 프로젝트의 최신 요구사항(데이터 파이프라인, 유전 알고리즘 등)을 반영하여 업데이트된 이슈 목록입니다.

---

## Issue 1: [Phase 1] 프로젝트 설정 및 인프라 구축 (등록 완료)
*(기존 내용 동일)*

## Issue 2: [Phase 2] 기본 데이터 모델 구현 (Player, Lineup) (등록 완료)
*(기존 내용 동일)*

## Issue 3: [Phase 2] 게임 메카닉 구현 (BaseSystem, OutcomeGenerator) (수정 필요)
**작업 배경**
야구 규칙의 핵심인 주루 플레이와 타격 결과를 확률에 따라 생성하는 로직이 필요함. 정교함을 위해 단순 확률이 아닌 상황별(Context-Aware) 전이 확률을 반영해야 함.

**작업 내용**
- `BaseSystem` 구현: 안타 종류 및 주자 상황에 따른 진루 판정
- `OutcomeGenerator` 구현:
    - 선수별 기본 스탯 반영
    - **주자 상황별 전이 확률** 반영 (예: 1루 주자가 있을 때 우전 안타 시 3루까지 갈 확률)

**인수 조건**
- 주자 상황별로 다른 결과가 도출되어야 함.
- 만루, 병살타 등 복합 상황 처리가 정확해야 함.

## Issue 4: [Phase 2] 시뮬레이션 엔진 구현 (GameState, GameSimulator) (수정 필요)
**작업 배경**
9이닝 단일 게임 시뮬레이션 엔진 구현. 여기에 **구장 효과(Park Factor)** 보정 로직을 추가하여 현실성을 높임.

**작업 내용**
- `GameState`: 이닝, 아웃, 점수, 주자 상태 관리
- `GameSimulator`:
    - 9이닝 게임 루프
    - **Park Factor 적용**: 구장(대전/잠실 등)에 따른 득점/장타 보정치 적용

**인수 조건**
- 구장 변수를 변경했을 때 기대 득점 분포가 유의미하게 달라져야 함.
- 9이닝 종료 후 정상적으로 스코어가 산출되어야 함.

## Issue 5: [Phase 2] 최적화 및 통계 구현 (수정 필요: 유전 알고리즘)
**작업 배경**
36만 가지(9!) 조합을 전수 조사하는 것은 불가능하므로, **유전 알고리즘(Genetic Algorithm)**을 도입하여 효율적으로 최적 라인업을 탐색함.

**작업 내용**
- `StatsAggregator`: 결과 집계
- `Optimizer`: **유전 알고리즘(GA)** 구현
    - 초기 모집단(Population) 생성
    - 적합도(Fitness) 평가 (기대 득점)
    - 선택(Selection), 교차(Crossover), 변이(Mutation) 로직
    - `Web Worker` 적용 검토 (연산 부하 분산)

**인수 조건**
- GA 실행 시 세대가 거듭될수록 평균 기대 득점이 상승해야 함.
- 2초 이내에 수렴된 최적(또는 근사) 라인업을 도출해야 함.

## Issue 6: [Phase 3] UI 뼈대 및 데이터 연동 (등록 완료)
*(기존 내용 동일)*

## Issue 7: [Phase 3] 라인업 및 대시보드 시각화 구현 (등록 완료)
*(기존 내용 동일)*

## Issue 8: [Phase 4] 통합 및 배포 (등록 완료)
*(기존 내용 동일)*

---

## Issue 9: [Phase 1.5] 데이터 파이프라인 구축 (Python Crawler) (신규)
**작업 배경**
시뮬레이션의 정확도를 위해 Statiz 등에서 실제 선수 데이터를 수집하고, 시뮬레이션에 맞는 확률 데이터로 전처리해야 함.

**작업 내용**
- Python 환경 설정 (`poetry` or `requirements.txt`)
- `crawl_data.py`: Statiz 크롤링 (Selenium/BeautifulSoup)
- `process_data.py`: 원천 데이터를 전이 확률 매트릭스로 가공 및 `players_data.json` 수출

**인수 조건**
- 스크립트 실행 후 `src/data/players_data.json` 파일이 생성되어야 함.
- 생성된 JSON 파일이 유효한 형식이며, 선수별 상세 확률 데이터를 포함해야 함.

## Issue 10: [Phase 3.5] 실시간 대타 시뮬레이터 (Live Sub) 구현 (신규)
**작업 배경**
경기 중반 특정 상황(예: 7회말 1사 1,2루)에서 대타를 기용했을 때의 승률 변화를 계산하여 코칭 스태프의 의사결정을 지원함.

**작업 내용**
- UI: 경기 상황 설정(이닝, 주자, 아웃카운트, 점수차) 모달/패널 구현
- Logic: `GameSimulator`를 특정 상태에서 시작하도록 확장
- Output: "현재 타자 vs 대타"의 승리 확률 변화(WPA) 비교 표시

**인수 조건**
- 상황 값을 입력하고 시뮬레이션을 돌렸을 때, 대타 기용 시의 승률 차이가 즉시 계산되어야 함.
