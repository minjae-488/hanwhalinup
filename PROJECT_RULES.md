# 프로젝트 규칙 (Project Rules)

## 1. 개발 방법론: TDD (테스트 주도 개발)
- **적용 범위**: UI/DOM 조작 코드를 제외한 모든 핵심 로직 모듈(예: `SimulationEngine`, `Optimizer` 등)은 반드시 TDD로 개발해야 합니다.
- **예외 대상**: UI 관련 로직 및 DOM 조작 코드는 자동화 테스트 대상에서 제외하며, 수동 테스트로 검증합니다.
- **작업 흐름 (Red-Green-Refactor)**:
    1.  **Red (실패)**: 구현하고자 하는 기능을 정의하는 실패하는 테스트 케이스를 먼저 작성합니다.
    2.  **Green (성공)**: 테스트를 통과하기 위한 최소한의 코드를 작성합니다.
    3.  **Refactor (리팩토링)**: 테스트 통과 상태를 유지하며 코드를 개선하고 정리합니다.
- **테스트 프레임워크**: Jest (바닐라 JS 환경 추천).
- **목표**: 핵심 로직에 대해 높은 테스트 커버리지 달성.

## 2. 코드 설계: SOLID 원칙
유지보수성과 확장성을 위해 SOLID 원칙을 준수합니다.

- **S - 단일 책임 원칙 (SRP)**:
    - 각 클래스나 모듈은 변경해야 할 이유가 단 하나여야 합니다.
    - 예: `SimulationEngine`은 게임 시뮬레이션만 담당하며, 데이터 페칭이나 UI 렌더링은 담당하지 않습니다.
- **O - 개방-폐쇄 원칙 (OCP)**:
    - 소프트웨어 개체는 확장에 대해 열려 있어야 하고, 수정에 대해서는 닫혀 있어야 합니다.
    - 예: 게임 규칙이나 최적화 알고리즘 변경 시 `if/else` 문을 수정하는 대신, 전략 패턴이나 설정 객체를 주입하여 확장합니다.
- **L - 리스코프 치환 원칙 (LSP)**:
    - 서브 타입은 언제나 기반 타입으로 교체할 수 있어야 합니다.
    - 상속을 사용할 경우, 자식 클래스는 부모 클래스의 동작을 깨뜨리지 않아야 합니다.
- **I - 인터페이스 분리 원칙 (ISP)**:
    - 클라이언트는 자신이 사용하지 않는 인터페이스에 의존하도록 강요받으면 안 됩니다.
    - JS에서는 거대한 "신(God) 객체"를 만드는 대신, 작고 집중된 모듈이나 클래스를 설계하는 것을 의미합니다.
- **D - 의존성 역전 원칙 (DIP)**:
    - 고수준 모듈은 저수준 모듈에 의존해서는 안 되며, 둘 다 추상화에 의존해야 합니다.
    - 예: `SimulationEngine` 내부에서 `RandomNumberGenerator`나 `StatsProvider`를 직접 생성하지 말고, 외부에서 주입(DI)받도록 합니다.

## 3. 일반 스타일 가이드
- 테스트 용이성을 위해 가능한 한 순수 함수(Pure Function)로 작성합니다.
- TDD를 원활하게 수행하기 위해 명시적인 의존성 주입(Dependency Injection)을 활용합니다.
